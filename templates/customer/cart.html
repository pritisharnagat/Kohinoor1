{% extends 'base.html' %} {% block title %} View cart{% endblock %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
  {% load static %}
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Your website description" />
    <meta name="author" content="Your Name" />

    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon" />

    <title>Cart</title>
    <link
      rel="icon"
      href="/static/assets1/images/logos/vr_main.png"
      type="image/x-icon"
    />

    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- bootstrap css -->
    <link
      id="rtl-link"
      rel="stylesheet"
      type="text/css"
      href="/static/assets1/css/vendors/bootstrap.css"
    />

    <!-- font-awesome css -->
    <link
      rel="stylesheet"
      type="text/css"
      href="/static/assets1/css/vendors/font-awesome.css"
    />

    <!-- feather icon css -->
    <link
      rel="stylesheet"
      type="text/css"
      href="/static/assets1/css/vendors/feather-icon.css"
    />

    <!-- animation css -->
    <link
      rel="stylesheet"
      type="text/css"
      href="/static/assets1/css/vendors/animate.css"
    />

    <!-- slick css -->
    <link
      rel="stylesheet"
      type="text/css"
      href="/static/assets1/css/vendors/slick/slick.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="/static/assets1/css/vendors/slick/slick-theme.css"
    />

    <!-- Theme css -->
    <link
      id="color-link"
      rel="stylesheet"
      type="text/css"
      href="/static/assets1/css/demo2.css"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap"
      rel="stylesheet"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap"
      rel="stylesheet"
    />

    <!-- icons -->
    <link
      rel="stylesheet"
      href="https://unicons.iconscout.com/release/v4.0.8/css/line.css"
    />

    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!-- Theme css -->
    <link
      id="color-link"
      rel="stylesheet"
      type="text/css"
      href="{% static 'assets/css/demo2.css' %}"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
        font-family: "Roboto", sans-serif;
        background: url("/static/bg-images/cart/vr\ patternsv2.png");
        background-size: contain;
        background-position: center;
        background-repeat: repeat;
      }

      .cart-section-parent {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: space-between;
        align-items: start;
        flex-direction: column;
        flex-wrap: wrap;
        padding: 30px;
      }

      .cart-section-parent-title {
        width: fit-content;
        height: auto;
        display: flex;
        justify-content: start;
        align-items: start;
        flex-direction: row;
        flex-wrap: nowrap;
      }

      .cart-section-parent-title span {
        font-size: 30px;
        font-family: "Roboto", sans-serif;
        font-weight: 400;
        font-style: normal;
      }

      .cart-item-section {
        
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: start;
        flex-direction: row;
        flex-wrap: wrap;
      }

      .cart-single-item-section {
       
        max-width: 60rem;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: row;
        flex-wrap: wrap;
        margin: 20px;
        
      }

      .cart-single-item {
        border: 1.5px solid rgb(198, 198, 198);
        border-radius: 15px;
        width: 60rem;
        display: flex;
        justify-content: start;
        align-items: flex-start;
        flex-direction: row;
        flex-wrap: nowrap;
        gap: 25px;
        margin-bottom: 15px;
        padding-top: 10px;
        padding-bottom: 10px;
        background-color: white;
        transition: all 0.4s ease-out;
      }

      .cart-single-item:hover{
        border: 1.5px solid rgb(80, 80, 80);
        transform: translateY(-3px);
      }

      .checkout-section {
        width: 40rem;
        border: 1.5px solid rgb(198, 198, 198);
        border-radius: 15px;
        margin: 20px;
        padding: 15px;
        transition: all 0.4s ease-out;
        background-color: white;
      }

      .checkout-section:hover{
        border: 1.5px solid rgb(80, 80, 80);
      
      }

      .total-items-ammount-value span{
        font-size: 20px;
      }

      .total-items-discount-value span{
        text-decoration: line-through;
        color: green;
      }



      .checkout-section-title{
        margin: 10px;
        margin-bottom: 15px;
      }

      .checkout-section-title span{
        font-size: 25px;
        font-weight: 500;
      }
      .product-img {
        width: 150px;
        height: 150px;
        margin-left: 15px;
        margin-top: 20px;
      }

      .product-img img {
        width: 100%;
        height: 100%;
      }

      .product-details {
        width: 60%;
      }

      .product-name {
        width: 100%;
        margin: 10px;
        display: flex;
        justify-content: start;
        align-items: center;

      }

      .product-name a span{
        font-size: 12px;
        font-weight: 500;
        color: black;
      
      }

      .size-qty-section{
        width: 100%;
        margin: 10px;
        display: flex;
        justify-content: start;
        align-items: start;
        flex-direction: row;
        flex-wrap: wrap;
      }

      .product-size{
        display: flex;
        justify-content: start;
        align-items: center;
        flex-direction: row;
        flex-wrap: nowrap;
      }

      .product-size span{
        font-size: 15px;
        margin-right: 5px;
        font-weight: 400;
      }



      .product-quantity{
        display: flex;
        justify-content: start;
        align-items: center;
        flex-direction: row;
        flex-wrap: nowrap;
      }

      .product-quantity span{
        font-size: 15px;
        margin-right: 5px;
        font-weight: 400;
      }

      .price-section{
        margin: 10px;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-direction: row;
        flex-wrap: nowrap;
      }

      .price-section-value span{
        font-size: 18px;
        font-weight: 500;
      }

      .discount-price-section-value span{
        font-size: 18px;
        font-weight: 500;
        color: green;
        text-decoration: line-through;
      }

      .final-price{
        margin: 10px;
        
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-direction: row;
        flex-wrap: nowrap;

      }

      .final-label span{
        font-size: 18px;
        font-weight: 500;
      }

      .final-value span{
        font-size: 18px;
        font-weight: 500;
      }


      .product-remove-btn{
        margin-top: 20px;
        margin-bottom: 10px;
        width: 100%;
        display: flex;
        justify-content: end;
        align-items: center;
        flex-direction: row;
        flex-wrap: wrap;
      }

      .product-remove-btn a button{
        border: 1.5px solid rgb(255, 182, 182);
        background-color: white;
        padding: 15px;
        padding-top: 8px;
        padding-bottom: 8px;
        text-transform: capitalize;
        color: black;
        border-radius: 10px;
        transition: all 0.3s ease-out;
        margin-left: 10px;
      }

      .product-remove-btn a button:hover{
        border: 1.5px solid rgba(195, 195, 195, 0);
        background-color: rgb(255, 44, 44);
        color: white;
      }


      .divider {
        margin: 10px;
        height: 0.5px;
        width: 100%;
        background-color: black;
      }



      .total-items-discount {
        font-size: 15px;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        flex-wrap: nowrap;
        margin: 10px;
      }

      .total-items-ammount {
        font-size: 15px;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        flex-wrap: nowrap;
        margin: 10px;
      }

      .place-order-btn{
        max-width: 100%;
        margin-top: 20px;
        margin-bottom: 10px;
        
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .place-order-btn a{
        width: 100%;
      }

      .place-order-btn a button{
        width: 100%;
        border: none;
        background-color: rgb(0, 0, 0);
        padding: 15px;
        font-size: 15px;
        padding-top: 8px;
        padding-bottom: 8px;
        text-transform: capitalize;
        color: rgb(255, 255, 255);
        border-radius: 10px;
        transition: all 0.3s ease-out;
      }

      .place-order-btn a button:hover{
        
        background-color: rgb(66, 66, 66);
        color: white;
      }


      .cart-empty-msg-section {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .empty-bag-animation {
        width: 500px;
        height: auto;
      }

      .cart-else-ui {
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        flex-wrap: nowrap;
      }

      .cart-empty-msg-section {
        background-color: rgb(255, 246, 246);
        width: fit-content;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        flex-wrap: nowrap;
        padding: 20px;
        margin-top: 70px;
        border-radius: 20px;
        transition: all;
      }

      .empty-bag-animation {
        width: 400px;
        height: 400px;

        margin-bottom: 10px;
        background-color: transparent;
      }

      .explore-btn {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: row;
        flex-wrap: wrap;
        margin: 10px;
      }

      .explore-btn a button {
        padding: 15px;
        padding-top: 8px;
        padding-bottom: 8px;
        font-size: 15px;
        text-decoration: none;
        border: none;

        border-radius: 10px;
        background-color: black;

        color: white;
        font-weight: 400;
        transition: all 0.3s ease-out;
      }

      .explore-btn a button:hover {
        background-color: rgb(57, 57, 57);
      }

      @media screen and (max-width: 1200px) {
        .checkout-section {
          width: 60rem;
        }
      }

      @media screen and (max-width: 768px) {

        .cart-section-parent {

          padding-left: 0;
          padding-right: 0;
        }

        .cart-single-item-section {
          
          max-width: 40rem;
        }

        .checkout-section {
          width: 40rem;
        }

        .cart-single-item {
          
          width: 100%;
          display: flex;
          justify-content: center;
          align-items: center;
          flex-direction: row;
          flex-wrap: wrap;
          margin-top: 10px;
          margin-bottom: 15px;
          padding-top: 10px;
          padding-bottom: 10px;
        }

        .product-details {
          width: 85%;
        }
      }

      @media screen and (max-width: 450px) {

        .product-img {
          width: 100px;
          height: 100px;
          /* margin-left: 15px; */
          margin: 15px;
        }

        .cart-single-item-section {
         
          max-width: 40rem;
          padding-left: 0;
          padding-right: 0;
        }

        .product-name {
          width: 100%;
          margin: 0px;
        }

        .size-qty-section {
          width: 100%;
          margin: 0px;
        }

        .product-name a span {
          font-size: 10px;
        }

        .product-size span {
          font-size: 13px;

        }

        .product-quantity span {
          font-size: 13px;

        }

        .price-section-label span{
          font-size: 13px;
        }

        .price-section-value span {
          font-size: 15px;
        }

        .price-section {
          margin: 10px;
          margin-left: 0px;
        }

        .divider {
          margin: 0px;
        }

        .final-price {
          margin: 0px;
          margin-top: 10px;
        }

        .final-label span {
          font-size: 15px;
        }
        .final-value span {
          font-size: 15px;
        }

        .product-remove-btn a button {
          font-size: 10px;
        }

        .cart-section-parent-title span {
          font-size: 22px;

          margin-left: 20px;
        }
        .empty-bag-animation {
          width: 300px;
          height: 300px;
          display: flex;
          justify-content: center;
          align-items: center;
        }

        .empty-bag-animation {
          width: 200px;
          height: 200px;
        }
      }
    </style>
  </head>
  <body>
    <div class="cart-section-parent">
      <div class="cart-section-parent-title">
        {% if cart_items %}
        <span>
          Items In Your Cart ( <strong>{{ cart_items|length }}</strong> )</span
        >
        {% else %}
        <span>Your Cart is Empty</span>
        {% endif %}
      </div>

      {% if cart_items %}
      <div class="cart-item-section">
        <div class="cart-single-item-section">
          {% for c in cart_items %}

          <div class="cart-single-item">
            {% if c.image_src %}
              <div class="product-img">
                  <img src="{{c.image_src.url}}" alt="product image" width="200px" height="200px" style="border: 1px solid #ccc; border-radius:5px" >
              </div>
              {% else %}
              <div class="product-img">
                  <img src="{{c.product.product_image.url}}" alt="product image" width="200px" height="200px" style="border: 1px solid #ccc; border-radius:5px" >
              </div>
              {% endif %}
            <!-- <div class="product-img">
              <a href="/prod_details/{{c.product}}/">
                <img
                  src="{{ c.product.product_image.url }}"
                  alt="Product Image"
                />
              </a>
            </div> -->

            <div class="product-details">
              <div class="product-name">
                <a href="/prod_details/{{c.product}}/">
                  <span>{{ c.product.title }}</span>
                </a>
                <!-- <p>{{ c.product.product_type }}</p> -->
              </div>

              <!-- <div class="col-md-12 product-desc p-0">
                  <span>{{ c.product.description }}</span>
                </div> -->

              <div class="size-qty-section">
                <div class="product-size">
                  <span>Size:</span>
                  <span>{{ c.size }}</span>
                </div>

                <div class="product-quantity">
                  <span>Quantity:</span>
                  <span>{{ c.quantity }}</span>
                </div>
              </div>

              <div class="price-section">
                <div class="price-section-label">
                  <span>Selling Price</span>
                </div>

                <div class="price-section-value">
                  <span>&#8377 {{ c.product.actual_price }}</span>
                </div>
              </div>

                <div class="price-section">
                  <div class="price-section-label">
                    <span>Discount Price</span>
                  </div>
                  {% if c.product.discount_type == "Percent" %}
                    <div class="price-section-value">
                      <span>- {{ c.product.discount_price }} %</span>
                    </div>
                  {% else %}
                    <div class="price-section-value">
                      <span>-&#8377 {{ c.product.discount_price }}</span>
                    </div>
                  {% endif %}
                </div>

              <div class="divider"></div>

              <div class="final-price">
                <div class="final-label">
                  <span>Total Price :</span>
                </div>

                <div class="final-value">
                  <span>&#8377 {{ c.product_price }}</span>
                </div>
              </div>

              <div class="product-remove-btn">
                <a href="/move_to_wishlist/{{c.product.prod_id}}/">
                  <button>move to wishlist</button>
                </a>
                <a href="/remove_cart/{{c.id}}/">
                  <button>remove</button>
                </a>
              </div>

              <!-- <div class="product-remove-btn">

              </div> -->
            </div>
          </div>

         {% endfor %}
        </div>

        <div class="checkout-section">

          <div class="checkout-section-title">
            <span>price summary</span>
          </div>
          
          <!-- <div class="total-items-discount">
            <div class="total-items-discount-label">
              <span>Discount : </span>
            </div>

            <div class="total-items-discount-value">
              <span>&#8377 {{ c.product.discount_price }}</span>
            </div>  
          </div>
           -->

          <div class="total-items-ammount">
            <div class="total-items-ammount-label">
              <span>Total MRP : </span>
            </div>

            <div class="total-items-ammount-value">
              <span>&#8377 {{ total_amount }}</span>
            </div>
          </div>

          <div class="place-order-btn">
            <a href="/checkout/">
              <button>Checkout</button>
            </a>
          </div>
          <div class="place-order-btn">
            <a href="/tshirt/">
              <button>Continue Shopping</button>
            </a>
          </div>

        </div>


      </div>
      
      {% else %}

      <div class="cart-else-ui">
        <div class="cart-empty-msg-section">
          <dotlottie-player
            class="empty-bag-animation"
            src="https://lottie.host/c3e9ba00-7bef-4765-97b6-31b6937392e0/GU8XYyDzHn.json"
            background="transparent"
            speed="0.8"
            loop
            autoplay
          >
          </dotlottie-player>

          <div class="msg">
            <span>Looks like your cart is empty</span>
          </div>
          <div class="explore-btn">
            <a href="/tshirt/">
              <button>Continue Shopping</button>
            </a>
          </div>
        </div>
      </div>

      {% endif %}
    </div>


    <script
      src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
      type="module"
    ></script>

    <!-- below is raw code  ⬇️-->

    <!-- <h3>Cart</h3>
    <div>
        <table  class="table table-striped table-hover">
            <thead  style="background-color:#f9dbba;">
                <tr>
                    <th scope="col">Image</th>
                    <th scope="col">Product name</th>
                    <th scope="col">Description</th>
                    <th scope="col">Brand</th>
                    <th scope="col">Category</th>
                    <th scope="col">Product type</th>
                    <th scope="col">Selling price</th>
                    <th scope="col">Discount price</th>
                    <th scope="col">Actual price</th>
                    <th scope="col">Quantity</th>
                </tr>
            </thead>
            <tbody>
                {% for c in cart_items %}
                <tr>
                    <td scope="col">
                        <a href='/prod_details/{{c.id}}/'>
                            <img src="{{ c.product.product_image.url }}" alt="Product Image" width="60" height="80">
                        </a>
                    </td>
                    <td scope="col">
                        <a href='/prod_details/{{c.id}}/'>
                            {{ c.product.title }} 
                        </a>
                    </td>
                    <td>{{ c.product.description }}</td>
                    <td>{{ c.product.brand }}</td>
                    <td>{{ c.product.category }}</td>
                    <td>{{ c.product.product_type }}</td>
                    <td>{{ c.product.selling_price }}</td>
                    <td>{{ c.product.discount_price }}</td>
                    <td>{{ c.product.actual_price }}</td>
                    <td>{{ c.quantity }}</td>
                    <td>
                            <a class="btn btn-sm btn-secondary mr-3 remove-cart" href='/remove_cart/{{c.id}}/'>Remove</a>
                        </form>
                    </td>
                
                </tr>
                
                {% endfor %}
            </tbody>
        </table>
        <div>
            <h3>Total Amount: {{ total_amount }}</h3>
        </div>

        <div>
            <a class="btn btn-sm btn-danger mr-3" href='/checkout/'>Place   Order</a>
        </div> -->
  </body>
</html>
{% endblock content %}