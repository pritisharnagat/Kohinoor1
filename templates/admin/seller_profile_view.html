{% extends "admin_base.html" %}
  {% block content %}
{% load static %}

<!DOCTYPE html> 
<html lang="en">
	<head>
		
		<meta charset="utf-8">
		<title>VishwaRatna</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">

        <link rel="stylesheet" href="//g.tutorialjinni.com/mojoaxel/bootstrap-select-country/dist/css/bootstrap-select-country.min.css" />
		
		<!-- Favicons -->
		<link href="{% static 'assets/img/GrujiSpeaks-img/logo-1.png' %}" rel="icon">
		
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
		
		<!-- Fontawesome CSS -->
		<link rel="stylesheet" href="{% static 'assets/plugins/fontawesome/css/fontawesome.min.css' %}">
		<link rel="stylesheet" href="{% static 'assets/plugins/fontawesome/css/all.min.css'}">

		<!-- Feathericon CSS -->
    	<link rel="stylesheet" href="{% static 'assets/css/feather.css' %}">
		
		<!-- Select2 CSS -->
		<link rel="stylesheet" href="{% static 'assets/plugins/select2/css/select2.min.css' %}">
		
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="{% static 'assets/plugins/bootstrap-tagsinput/css/bootstrap-tagsinput.css' %}">
		
		<link rel="stylesheet" href="{% static 'assets/plugins/dropzone/dropzone.min.css' %}">
		
		<!-- Main CSS -->
		<link rel="stylesheet" href="{% static 'assets/css/custom.css' %}">
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


		<style>
			/* side bar */
			.profile-sidebar .dashboard-menu > ul > li.active > a {
				color: #f7931e;
			}

			.profile-sidebar .dashboard-menu > ul > li:hover > a {
				color: #f7931e;
			}

			/* upload image button */
			.change-photo-btn {
				background-color: #f7931e;
				color: #ffffff;
				cursor: pointer;
				display: block;
				font-size: 13px;
				font-weight: 600;
				position: relative;
				text-align: center;
				width: 220px;
				-webkit-transition: 0.3s;
				-ms-transition: 0.3s;
				transition: 0.3s;
				border-radius: 50px;
				margin: 0 auto;
				padding: 10px 15px;
			}

			/* experience add more */
			.add-more a {
				color: #f7931e;
			}

			/* save changes button */
			.prime-btn {
				background-color: #f7931e;
				color: #fff;
				border: 1px solid #f7931e;
				box-shadow: inset 0 0 0 0 #ffffff;
			}

            .breadcrumb-bar-two {
                background: #F2F6F6;
                background-repeat: repeat;
                background-repeat: no-repeat;
                padding-top: 10px;
                min-height: 50px;
                position: relative;
                overflow: hidden;
                z-index: 1;
            }
/* 
			.sumbit-btn{
				background-color: #1c3264;
				border: 1px solid #1c3264;
			}

			.sumbit-btn:hover{
				background-color: #fff;
				border: 1px solid #1c3264;
				color: #1c3264;
			}

			.sumbit-btn:active{
				background-color: #1c3264 !important;
				border: 1px solid #1c3264 !important;
			}

			.sumbit-btn:focus{
				background-color: #1c3264;
				border: 1px solid #1c3264;
			} */
		</style>
	
	</head>
	<body>
		<div class="page-wrapper compact-wrapper dark-sidebar" id="pageWrapper">
			<div class="page-body-wrapper">
				<div class="page-body">
					<div class="row">
						<div class="col-sm-12">
							<div class="card mt-2 p-2">		

					<!-- Main Wrapper -->
					<div class="page-wrapper">
						<div class="breadcrumb-bar-two">
							<div class="container">
								<div class="row align-items-center inner-banner">
									<div class="col-md-12 col-12 text-center">
										<h2 class="breadcrumb-title">Seller Profile</h2>
										
									</div>
								</div>
							</div>
						</div>
			
						
							<form enctype="multipart/form-data" action="" method="post">
									{% csrf_token %}
									
								<h4 class="card-title mt-2">Basic Information</h4>
								<div class="row form-row">
									<div class="col-md-6">
										<div class="form-group m-1">
											<label>First Name<span class="text-danger">*</span></label>
											<input type="text" name="first_name" value="{{data1.first_name}}" id="name" class="form-control" oninput="this.value = this.value.replace(/[^a-z A-Z]/g, '')" readonly>
										</div>
									</div>
									<div class="col-md-6">
										<div class="form-group m-1">
											<label>Last Name<span class="text-danger">*</span></label>
											<input type="text" name="last_name" value="{{data1.last_name}}" id="name" class="form-control" oninput="this.value = this.value.replace(/[^a-z A-Z]/g, '')" readonly>
										</div>
									</div>
									<div class="col-md-6">
										<div class="form-group m-1">
											<label>Email<span class="text-danger">*</span></label>
											<input type="text" name="email" value="{{data1.email}}" id="name" class="form-control" oninput="this.value = this.value.replace(/[^a-z A-Z]/g, '')" readonly>
										</div>
									</div>
									<div class="col-md-6">
										<div class="form-group m-1">
											<label>Company Name<span class="text-danger">*</span></label>
											<input type="text" name="company_name" value="{{data1.company_name}}" id="company_name" class="form-control" oninput="this.value = this.value.replace(/[^a-z A-Z]/g, '')" readonly>
										</div>
									</div>
									
									<div class="col-md-6">
										<div class="form-group m-1">
											<label>Company Address</label>
											<input type="text" name="company_address" value="{{data1.company_address}}" id="company_address" class="form-control" readonly>
										</div>
									</div> 
									<div class="col-md-6">
										<div class="form-group m-1">
											<label>Mobile Number</label>
											<input type="text" class="form-control pass-input" name="mobile_number" value="{{data1.mobile_number}}" id="mobile_number" maxlength="10" oninput="this.value = this.value.replace(/[^0-9]/g, '')" readonly>
										</div>
									</div>
									<!-- <div class="col-md-6">
										<div class="form-group m-1">
											<label>Commission</label>
											<input type="text" class="form-control pass-input" name="commision" value="" id="commision" maxlength="10" oninput="this.value = this.value.replace(/[^0-9.]/g, '')">
										</div>
									</div>     -->
								</div>
								<form method="post">
									{% csrf_token %}
									{% if data1.is_seller %}
										<div class="col-md-12" style="text-align: center;">
											<h4 type="submit" class="btn btn-success btn-round ml-auto" data-toggle="modal" style="margin-left: 10px; float: left;">Seller Approved</h4>
										</div>
									{% else %}
										<button type="submit" name="is_seller" value="approval_button" class="btn btn-primary m-1">Approved Seller</button>
										<button type="button" id="rejectButton" class="btn btn-primary m-1" onclick="openRejectModal()">Seller Reject</button>
									{% endif %}
								</form>
								
								<div class="modal fade" id="addCompanyModal" role="dialog">
									<div class="modal-dialog modal-sm">
										<form method="POST" class="form" id="add_company_form" autocomplete="on">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header btn-primary m-1">
													<h2 class="modal-title w-100 text-center">Add Comment</h2>
												</div>
												<div class="modal-body">
													<div class="form-group">
														<div class="input-group mb-2">
															<textarea type="text" name="comment" value="{{data1.comment}}" rows="8" cols="70" class="form-control" style="border: 1px solid;" required></textarea>
														</div>
														<span class="text-danger" id="id_comp_name_error"></span>
													</div>
												</div>
												<div class="modal-footer justify-content-center">
													<input id="submitBtn" name="seller_reject" value="Save" type="submit" class="btn btn-primary"  onclick="openPopup()">
													<button type="button" class="btn btn-primary" onclick="closeModal()">Close</button>
												</div>
												<div class="popup" id="popup">
													<h3 style="text-align: center;margin-top:48px;border-radius:20px;">Rejected Successfully</h3>
												</div>
											</div>
										</form>
									</div>
								</div>
					
							</form>
							
						</div>
					</div>
				</div>
			</div>		
			<!-- /Page Content -->
		</div>
		<!-- /Main Wrapper -->
	  </div>
	</div>


	<script>
		// Function to open the popup modal
		function openRejectModal() {
			$('#addCompanyModal').modal('hide');
			$('#popup').modal('show');
		}
	
		// Function to close the modal
		function closeModal() {
			$('#addCompanyModal').modal('hide');
		}
</script>

 <script>
	// Function to open the popup modal
	function openRejectModal() {
		$('#addCompanyModal').modal('hide');
		$('#popup').modal('show');
	}

	// Add event listener to the reject button
	document.getElementById('rejectButton').addEventListener('click', function() {
		$('#addCompanyModal').modal('show');
	});
</script>
	
		<!-- jQuery -->
		<script src="assets/js/jquery-3.6.4.min.js"></script>
		<script>
			function validateAndApprove() {
				var commissionField = document.getElementById("commision");
				var commissionValue = commissionField.value;
		
				if (commissionValue === "") {
					// Show a SweetAlert pop-up indicating that the field needs to be filled
					Swal.fire({
						icon: 'error',
						title: 'Oops...',
						text: 'You need to fill the "Set Commission" field!',
					});
				} else {
					// Perform your approval logic here
		
					// Show a success SweetAlert pop-up
					Swal.fire({
						icon: 'success',
						title: 'Success!',
						text: 'Astrologer approved successfully!',
					});
				}
			}
		</script>
		
		
		<!-- Bootstrap Core JS -->
		<script src="assets/js/bootstrap.bundle.min.js"></script>
		
		<!-- Sticky Sidebar JS -->
        <script src="assets/plugins/theia-sticky-sidebar/ResizeSensor.js"></script>
        <script src="assets/plugins/theia-sticky-sidebar/theia-sticky-sidebar.js"></script>
		
		<!-- Select2 JS -->
		<script src="assets/plugins/select2/js/select2.min.js"></script>
		
		<!-- Dropzone JS -->
		<script src="assets/plugins/dropzone/dropzone.min.js"></script>
		
		<!-- Bootstrap Tagsinput JS -->
		<script src="assets/plugins/bootstrap-tagsinput/js/bootstrap-tagsinput.js"></script>
		
		<!-- Profile Settings JS -->
		<script src="assets/js/profile-settings.js"></script>
		
		<!-- Custom JS -->
		<script src="assets/js/script.js"></script>

        <!-- for country -->
		<script src="//cdn.tutorialjinni.com/jquery/3.6.1/jquery.min.js"></script>
		<script src="//cdn.tutorialjinni.com/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="//cdn.tutorialjinni.com/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>
		<script src="//g.tutorialjinni.com/mojoaxel/bootstrap-select-country/dist/js/bootstrap-select-country.min.js"></script>
	</body>
</html>
{% endblock %}